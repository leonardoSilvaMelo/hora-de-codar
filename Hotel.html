<html>

<head>

	<script>

		const nomeHotel = "Hotel do Zé";

		const senha = 2678;

		let nomeUsuario;

		function perguntaNome() {

			nomeUsuario = prompt("Digite seu nome de Usuário: ");

			if (isNaN(nomeUsuario)) {
				perguntaSenha();
			} else {
				alert("Digite apenas letras");
				perguntaNome();
			}
		}

		function perguntaSenha() {

			let respostaSenha = prompt("Digite a senha: (2678)");

			if (isNaN(respostaSenha) || respostaSenha === '' || respostaSenha != senha) {
				alert("Por favor, Digite a senha correta");
				perguntaSenha();
			} else {
				inicio();
			}
		}

		function inicio() {

			alert(`Bem vindo ao ${nomeHotel}, ${nomeUsuario}. É um imenso prazer ter você por aqui!`);

			var escolha = parseInt(prompt('Selecione uma opção: \n 1.) Reserva de Quartos \n 2.) Cadastro de Hóspedes \n 3.) Abastecimento de Carros \n 4.) Sair'));

			switch (escolha) {
				case 1:
					reserva_quartos();
					break;

				case 2:
					cadastro_hospedes();
					break;

				case 3:
					abastecer_carros();
					break;

				case 4:
					sair();
					break;

				default:
					alert("Opção não encontrada!");
					inicio();
			}
		}

		function reserva_quartos() {

			alert(nomeHotel + ' - RESERVA DE QUARTOS');

			let diariaHotel;
			let quantidadeDias;

			while (true) {
				diariaHotel = prompt("Qual o valor padrão da diária?");

				if (diariaHotel > 0 && !isNaN(diariaHotel)) {
					break;
				}
				alert(`Valor invalido`);
			}

			while (true) {
				quantidadeDias = prompt("Quantas diarias serão necessárias?");

				if (quantidadeDias > 0 && !isNaN(quantidadeDias)) {
					break;
				}
				alert("Valor invalido");
			}

			const valorHotel = diariaHotel * quantidadeDias;

			alert(`O valor de ${quantidadeDias} dias de hospedagem é de R$${valorHotel}`);

			let nomeHospede;
			while(true){
				nomeHospede = prompt("Qual o nome do hóspede?");

				if(isNaN(nomeHospede)){
					break;
				}
				alert("Digite apenas letras");
			}

			//=======QUARTOS=======
			let quartos = Array(20).fill("vazio");

			let reservarQuarto;

			while (true) {
				reservarQuarto = prompt(`Qual o quarto para reserva de ${nomeHospede}? (1-20)`);

				if (reservarQuarto >= 1 && reservarQuarto <= 20) {
					if (quartos[reservarQuarto - 1] === "vazio") {
						quartos[reservarQuarto - 1] = nomeHospede;

						alert(`Quarto ${reservarQuarto} reservado para: ${nomeHospede}`);
						break;
					}
					alert(`O quarto ${reservarQuarto} já está ocupado por ${quartos[reservarQuarto - 1]}.`);

				}
				alert("Valor inválido");
			}

			quartos.forEach((estado, index) => {
				console.log(`Quarto ${index + 1}: ${estado}`);
			});
		}




























		function cadastro_hospedes() {
			alert(nomeHotel + ' - CADASTRO DE HÓSPEDES');
			inicio();
		}

		function abastecer_carros() {
			alert(nomeHotel + ' - ABASTECER');
			inicio();
		}

		function erro() {
			alert('Por favor, informe um número entre 1 e 4');
			inicio();
		}

		function sair() {
			var confirma = confirm('Você deseja sair?');
			if (confirma) {
				alert(`Muito obrigado e até logo, ${nomeUsuario}.`)
				window.close();
			} else {
				inicio();
			}
		}



		perguntaNome();
	</script>
</head>

<body>

</body>

</html>